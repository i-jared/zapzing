we are going to be updating the app. we are making sweeping changes, so think through each step. you are an expert in react and firebase and know exactly what to do. don't hallucinate. keep the rules in mind: @update-rules.md . 

Your tasks:

- [ ] Convert all data references to use UIDs consistently (users, channels, workspaces, messages, etc.)  

Explanation:

we should always be querying data based on its uid, where possible. 